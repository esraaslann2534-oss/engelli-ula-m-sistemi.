<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ã–deme EkranÄ±</title>

  <style>
    body { font-family: Arial; background:#eef2f3; }
    .container {
      max-width: 430px;
      margin: auto;
      padding: 25px;
    }
    .card {
      background: white;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    h1 { text-align:center; color:#4CAF50; }
    button {
      width: 100%; padding: 15px; margin-top: 10px;
      background:#4CAF50; color:white; border:none;
      border-radius:8px; font-size:17px; cursor:pointer;
    }
    button.red { background:red; }
    .option { margin: 10px 0; }
    label { display:block; font-size:18px; margin-bottom:8px; }
  </style>
</head>
<body>

<h1>Ã–deme SayfasÄ±</h1>

<div class="container">
  
  <!-- Ã–deme SeÃ§enekleri -->
  <div class="card">
    <h2>Ã–deme YÃ¶ntemi SeÃ§</h2>

    <div class="option">
      <input type="radio" name="pay" id="cardPay" checked>
      <label for="cardPay">ðŸ’³ Kredi KartÄ± ile Ã–deme</label>
    </div>

    <div class="option">
      <input type="radio" name="pay" id="cashPay">
      <label for="cashPay">ðŸ’µ Nakit Ã–deme</label>
    </div>

    <div class="option">
      <input type="radio" name="pay" id="freePay">
      <label for="freePay">â™¿ Engelli KartÄ± ile Ãœcretsiz</label>
    </div>

    <button onclick="completePayment()">Ã–demeyi Tamamla</button>
  </div>


  <!-- SESLÄ° MENÃœ -->
  <div class="card">
    <h2>Sesli MenÃ¼</h2>
    <button onclick="readMenu()">MenÃ¼yÃ¼ Sesli Oku</button>
    <button onclick="startVoice()" style="background:#2980b9;">Ses Komutu ile Ã–deme</button>
  </div>

  <!-- Acil Durum -->
  <button class="red" onclick="emergency()">Acil Durum</button>

</div>


<script>
  // â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
  // 1) SESLÄ° MENÃœ METNÄ°
  // â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
  const menuText = `
    Ã–deme sayfasÄ±ndasÄ±nÄ±z.
    ÃœÃ§ seÃ§enek bulunmaktadÄ±r.
    Kredi kartÄ± ile Ã¶deme.
    Nakit Ã¶deme.
    Engelli kartÄ± ile Ã¼cretsiz.
    Sesli Ã¶deme yapmak iÃ§in 'Kredi KartÄ±', 'Nakit', ya da 'Ãœcretsiz' demeniz yeterlidir.
  `;

  function readMenu(){
    speak(menuText);
  }


  // â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
  // 2) SES KOMUTU Ä°LE Ã–DEME
  // â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
  function startVoice(){
    speak("LÃ¼tfen Ã¶deme yÃ¶ntemini sÃ¶yleyin. Kredi KartÄ±, Nakit veya Ãœcretsiz.");
    
    const rec = new webkitSpeechRecognition();
    rec.lang = "tr-TR";
    rec.start();

    rec.onresult = (event) => {
      const text = event.results[0][0].transcript.toLowerCase();

      if(text.includes("kredi")){
        document.getElementById("cardPay").checked = true;
        speak("Kredi kartÄ± ile Ã¶deme seÃ§ildi.");
      }
      else if(text.includes("nakit")){
        document.getElementById("cashPay").checked = true;
        speak("Nakit Ã¶deme seÃ§ildi.");
      }
      else if(text.includes("Ã¼cretsiz") || text.includes("engelli")){
        document.getElementById("freePay").checked = true;
        speak("Engelli kartÄ± ile Ã¼cretsiz seÃ§ildi.");
      }
      else {
        speak("AnlaÅŸÄ±lamadÄ±. LÃ¼tfen tekrar deneyin.");
      }
    };
  }


  // â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
  // 3) Ã–demeyi Tamamlama
  // â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
  function completePayment(){
    let method = "Kredi KartÄ±";

    if(document.getElementById("cashPay").checked) method = "Nakit";
    if(document.getElementById("freePay").checked) method = "Ãœcretsiz";

    localStorage.setItem("payment", method);

    speak(method + " ile Ã¶deme tamamlandÄ±. Bilet oluÅŸturuluyor.");
    setTimeout(() => window.location.href = "ticket.html", 1500);
  }


  // â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
  // 4) Acil Durum
  // â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
  function emergency(){
    alert("Acil durum bildirildi!");
    speak("Acil durum bildirildi! YardÄ±m ekipleri yÃ¶nlendirildi.");
  }


  // â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
  // 5) Sesli KonuÅŸma Fonksiyonu
  // â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
  function speak(text){
    const u = new SpeechSynthesisUtterance(text);
    window.speechSynthesis.speak(u);
  }

</script>

</body>
</html>