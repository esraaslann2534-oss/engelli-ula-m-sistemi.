<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Engelli Dostu UlaÅŸÄ±m â€“ Yolculuk Bilgisi</title>

<style>
body{
  font-family: Arial;
  background:#eef2f3;
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.container{
  max-width:430px;
  width:100%;
  padding:25px;
}
.card{
  background:white;
  padding:20px;
  border-radius:12px;
  margin-bottom:20px;
  box-shadow:0 4px 12px rgba(0,0,0,.1);
}
h1{text-align:center;color:#4CAF50}
h2{color:#444;margin-bottom:5px}
.info-line{font-size:16px;margin:6px 0}
#waitTime{font-size:20px;color:#d35400;font-weight:bold}
button{
  width:100%;
  padding:15px;
  background:#4CAF50;
  border:none;
  color:white;
  border-radius:8px;
  font-size:18px;
  cursor:pointer;
  margin-top:10px;
}
#assistant{background:#2980b9}
#emergencyBtn{background:red}
</style>
</head>

<body>

<div class="container">
<h1>Yolculuk Bilgisi</h1>

<div class="card">
<h2>Yolcu Bilgileri</h2>
<div id="ticketInfo"></div>
</div>

<div class="card">
<h2>Ã–nerilen OtobÃ¼s HattÄ±</h2>
<div id="route"></div>
</div>

<div class="card">
<h2>OtobÃ¼s Bekleme SÃ¼resi</h2>
<div id="waitTime">HesaplanÄ±yor...</div>
</div>

<button id="assistant">Asistan Ã‡aÄŸÄ±r</button>
<button id="emergencyBtn">Acil Durum</button>
</div>

<script>
const name = localStorage.getItem("name") || "Bilinmiyor";
const disability = localStorage.getItem("disability") || "Yok";
const start = localStorage.getItem("start") || "Durak A";
const end = localStorage.getItem("end") || "Durak D";
const seat = localStorage.getItem("seat") || "-";
const price = localStorage.getItem("price") || "-";

ticketInfo.innerHTML = `
<div class="info-line"><strong>Ad:</strong> ${name}</div>
<div class="info-line"><strong>Engel:</strong> ${disability}</div>
<div class="info-line"><strong>BaÅŸlangÄ±Ã§:</strong> ${start}</div>
<div class="info-line"><strong>Hedef:</strong> ${end}</div>
<div class="info-line"><strong>Koltuk:</strong> ${seat}</div>
<div class="info-line"><strong>Ãœcret:</strong> ${price}</div>
`;

const busLines = [
 { name:"Ramoa 1", stops:["Durak A","Durak B","Durak C","Durak D"], times:{ "Durak A":3,"Durak B":6,"Durak C":9,"Durak D":12 }},
 { name:"Ramoa 2", stops:["Durak B","Durak C","Durak D"], times:{ "Durak B":5,"Durak C":8,"Durak D":11 }}
];

const accessibilityInfo = {
 "Ramoa 1":{ ramp:true, wheelchairSpace:true },
 "Ramoa 2":{ ramp:false, wheelchairSpace:false }
};

const bus = busLines.find(b => b.stops.includes(start) && b.stops.includes(end));

if(bus){
 route.innerHTML = `
 <div class="info-line"><strong>Hat:</strong> ${bus.name}</div>
 <div class="info-line"><strong>Rota:</strong> ${bus.stops.join(" â†’ ")}</div>
 `;

 const wait = bus.times[start];
 waitTime.textContent =
  wait !== undefined
  ? `${bus.name} hattÄ± ${wait} dakika iÃ§inde duraÄŸÄ±nÄ±za ulaÅŸacak`
  : "Bekleme sÃ¼resi bulunamadÄ±.";

 const acc = accessibilityInfo[bus.name];
 const card = document.createElement("div");
 card.className="card";
 card.innerHTML=`
 <h2>EriÅŸilebilirlik</h2>
 <div class="info-line">Rampa: ${acc.ramp?"ðŸŸ¢ Var":"ðŸ”´ Yok"}</div>
 <div class="info-line">Tekerlekli Sandalye: ${acc.wheelchairSpace?"ðŸŸ¢ Var":"ðŸ”´ Yok"}</div>
 `;
 document.querySelector(".container").insertBefore(card, assistant);

 speak(acc.ramp ? "OtobÃ¼s eriÅŸilebilir." : "OtobÃ¼s tam eriÅŸilebilir deÄŸildir.");
}else{
 speak("Uygun otobÃ¼s hattÄ± bulunamadÄ±.");
}

assistant.onclick = ()=> speak("GÃ¶revli Ã§aÄŸrÄ±ldÄ±.");
emergencyBtn.onclick = ()=> speak("Acil durum bildirildi.");

function speak(msg){
 const u=new SpeechSynthesisUtterance(msg);
 u.lang="tr-TR";
 speechSynthesis.speak(u);
}
</script>

</body>
</html>
